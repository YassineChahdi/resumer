<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Primary Meta Tags -->
    <title>resumer</title>
    <meta name="title" content="resumer">
    <meta name="description" content="Build professional, ATS-friendly resumes tailored to any job description. Use AI to optimize your experience, skills, and projects. Export to PDF or LaTeX.">
    <meta name="keywords" content="resume builder, AI resume, tailored resume, ATS-friendly, LaTeX resume, PDF resume, job application, career tools">
    <meta name="author" content="resumer">
    <meta name="robots" content="index, follow">
    <meta name="theme-color" content="#6366f1">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://resumeer.netlify.app/">
    <meta property="og:title" content="Resumer - AI-Powered Resume Builder">
    <meta property="og:description" content="Build professional, ATS-friendly resumes tailored to any job description. Export to PDF or LaTeX.">
    <meta property="og:image" content="https://resumeer.netlify.app/logo.svg">
    
    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://resumeer.netlify.app/">
    <meta name="twitter:title" content="Resumer - AI-Powered Resume Builder">
    <meta name="twitter:description" content="Build professional, ATS-friendly resumes tailored to any job description. Export to PDF or LaTeX.">
    <meta name="twitter:image" content="https://resumeer.netlify.app/logo.svg">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://resumeer.netlify.app/">
    <link rel="icon" type="image/x-icon" href="icons/favicon.ico">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="manifest" href="icons/site.webmanifest">
    
    <!-- Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "Resumer",
        "description": "AI-powered resume builder that creates tailored, ATS-friendly resumes",
        "url": "https://resumeer.netlify.app/",
        "applicationCategory": "BusinessApplication",
        "operatingSystem": "Web",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD"
        },
        "featureList": ["AI-tailored resumes", "PDF export", "LaTeX export", "Multiple templates", "Cloud sync"]
    }
    </script>
    
    <link rel="stylesheet" href="index.css">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body>
    <div class="container">
        <header>
            <div style="display: flex; align-items: center; gap: 0.5rem;">
                <img src="logo.svg" alt="resumer Logo" class="logo" style="height: 2rem; width: auto;">
                <h1>resumer</h1>
            </div>
            <div id="authSection">
                <button id="btnLogin" onclick="showLoginModal()">Log In</button>
                <div id="userInfo" style="display:none;">
                    <span id="userEmail"></span>
                    <button onclick="logout()">Logout</button>
                </div>
                <button id="themeToggle" class="theme-toggle" onclick="toggleTheme()" title="Toggle light/dark mode">☀️</button>
            </div>
        </header>

        <!-- Login Modal -->
        <div id="loginModal" class="modal" style="display:none;">
            <div class="modal-content">
                <span class="modal-close" onclick="hideLoginModal()">&times;</span>
                <h2 id="authModalTitle">Log In</h2>
                <div class="auth-form">
                    <input type="email" id="authEmail" placeholder="Email" />
                    <input type="password" id="authPassword" placeholder="Password" />
                    <button id="authSubmitBtn" onclick="submitAuth()">Log In</button>
                    <div class="auth-toggle">
                        <span id="authToggleText">Don't have an account?</span>
                        <a href="#" onclick="toggleAuthMode(); return false;" id="authToggleLink">Sign up</a>
                    </div>
                    <div class="auth-divider">or</div>
                    <button onclick="loginWithGoogle()">Continue with Google</button>
                </div>
            </div>
        </div>



        <!-- Confirm Modal -->
        <div id="confirmModal" class="modal" style="display:none;">
            <div class="modal-content alert-modal-content">
                <span class="modal-close" onclick="resolveConfirm(false)">&times;</span>
                <p id="confirmMessage"></p>
                <div class="confirm-buttons">
                    <button class="btn-cancel" onclick="resolveConfirm(false)">Cancel</button>
                    <button class="btn-confirm" onclick="resolveConfirm(true)">Confirm</button>
                </div>
            </div>
        </div>

        <!-- Prompt Modal -->
        <div id="promptModal" class="modal" style="display:none;">
            <div class="modal-content alert-modal-content">
                <span class="modal-close" onclick="resolvePrompt(null)">&times;</span>
                <p id="promptMessage"></p>
                <input type="text" id="promptInput" class="modal-input" />
                <div class="confirm-buttons">
                    <button class="btn-cancel" onclick="resolvePrompt(null)">Cancel</button>
                    <button class="btn-confirm" onclick="resolvePrompt(document.getElementById('promptInput').value.trim())">OK</button>
                </div>
            </div>
        </div>

        <main>
            <section class="form-section">
                <!-- Resume Type Toggle -->
                <fieldset class="resume-type-fieldset">
                    <legend>Resume Type <span class="tooltip"><i class="tooltip-icon">i</i><span class="tooltip-text">Choose the right resume for your field</span></span></legend>
                    <div class="toggle-container">
                        <button type="button" id="btnGeneral" class="toggle-btn active" onclick="setResumeType('general')">General</button>
                        <button type="button" id="btnTech" class="toggle-btn" onclick="setResumeType('tech')">Tech</button>
                    </div>
                </fieldset>
                
                <!-- Personal Info -->
                <fieldset>
                    <legend>Personal Info</legend>
                    <input type="text" id="fullName" placeholder="Full Name" />
                    <input type="text" id="phone" placeholder="Phone" />
                    <input type="email" id="email" placeholder="Email" />
                    <div style="display:flex;align-items:center;gap:0.25rem;margin-bottom:0.5rem;"><input type="text" id="github" placeholder="GitHub URL" style="margin-bottom:0;" /><span class="tooltip"><i class="tooltip-icon">i</i><span class="tooltip-text">e.g. github.com/yourname</span></span></div>
                    <div style="display:flex;align-items:center;gap:0.25rem;"><input type="text" id="linkedin" placeholder="LinkedIn URL" style="margin-bottom:0;" /><span class="tooltip"><i class="tooltip-icon">i</i><span class="tooltip-text">e.g. linkedin.com/in/yourname</span></span></div>
                </fieldset>

                <!-- Education -->
                <fieldset>
                    <legend>
                        <button type="button" class="btn-toggle" data-toggle="edu" onclick="toggleSection('edu')">▼</button>
                        Education
                        <span class="tooltip"><i class="tooltip-icon">i</i><span class="tooltip-text">Add degrees, certifications, or coursework</span></span>
                        <button type="button" class="legend-btn" onclick="addItem('edu')">+ Add</button>
                        <button type="button" class="legend-btn btn-clear" onclick="clearSection('edu')">Clear</button>
                    </legend>
                    <div id="educationList"></div>
                </fieldset>

                <!-- Experience -->
                <fieldset>
                    <legend>
                        <button type="button" class="btn-toggle" data-toggle="exp" onclick="toggleSection('exp')">▼</button>
                        Experience
                        <span class="tooltip"><i class="tooltip-icon">i</i><span class="tooltip-text">Work experience with action-driven bullets</span></span>
                        <button type="button" class="legend-btn" onclick="addItem('exp')">+ Add</button>
                        <button type="button" class="legend-btn btn-clear" onclick="clearSection('exp')">Clear</button>
                    </legend>
                    <div id="experienceList"></div>
                </fieldset>

                <!-- Projects (Tech mode only) -->
                <fieldset id="projectsSection">
                    <legend>
                        <button type="button" class="btn-toggle" data-toggle="proj" onclick="toggleSection('proj')">▼</button>
                        Projects
                        <span class="tooltip"><i class="tooltip-icon">i</i><span class="tooltip-text">Side projects that showcase your skills</span></span>
                        <button type="button" class="legend-btn" onclick="addItem('proj')">+ Add</button>
                        <button type="button" class="legend-btn btn-clear" onclick="clearSection('proj')">Clear</button>
                    </legend>
                    <div id="projectList"></div>
                </fieldset>

                <!-- Volunteer Work (General mode only) -->
                <fieldset id="volunteerSection" style="display:none;">
                    <legend>
                        <button type="button" class="btn-toggle" data-toggle="vol" onclick="toggleSection('vol')">▼</button>
                        Volunteer Work
                        <span class="tooltip"><i class="tooltip-icon">i</i><span class="tooltip-text">Community service and volunteer experience</span></span>
                        <button type="button" class="legend-btn" onclick="addItem('vol')">+ Add</button>
                        <button type="button" class="legend-btn btn-clear" onclick="clearSection('vol')">Clear</button>
                    </legend>
                    <div id="volunteerList"></div>
                </fieldset>

                <!-- Certifications (General mode only) -->
                <fieldset id="certificationsSection" style="display:none;">
                    <legend>
                        <button type="button" class="btn-toggle" data-toggle="cert" onclick="toggleSection('cert')">▼</button>
                        Certifications
                        <span class="tooltip"><i class="tooltip-icon">i</i><span class="tooltip-text">Professional certifications and licenses</span></span>
                        <button type="button" class="legend-btn" onclick="addItem('cert')">+ Add</button>
                        <button type="button" class="legend-btn btn-clear" onclick="clearSection('cert')">Clear</button>
                    </legend>
                    <div id="certificationList"></div>
                </fieldset>

                <!-- Additional Information / Skills -->
                <fieldset>
                    <legend id="skillsLegend">Additional Information</legend>
                    <div style="display:flex;align-items:center;gap:0.25rem;margin-bottom:0.5rem;"><input type="text" id="languages" placeholder="Spoken Languages" style="margin-bottom:0;" /><span class="tooltip"><i class="tooltip-icon">i</i><span class="tooltip-text" id="languagesTooltip">Languages you speak: English, French, etc.</span></span></div>
                    <div style="display:flex;align-items:center;gap:0.25rem;"><input type="text" id="technologies" placeholder="Technical Skills" style="margin-bottom:0;" /><span class="tooltip"><i class="tooltip-icon">i</i><span class="tooltip-text" id="technologiesTooltip">Software skills: Excel, PowerPoint, etc.</span></span></div>
                </fieldset>

                <!-- Job Description -->
                <fieldset>
                    <legend>Job Description <span class="tooltip"><i class="tooltip-icon">i</i><span class="tooltip-text">Paste the job posting - AI uses this to tailor your resume</span></span></legend>
                    <textarea id="jobDescription" rows="6" placeholder="Paste job description here..."></textarea>
                </fieldset>

                <!-- Saved Resumes (Local) -->
                <fieldset id="savedResumesSection">
                    <legend>Saved Resumes <span class="tooltip"><i class="tooltip-icon">i</i><span class="tooltip-text">Resumes saved in your browser</span></span></legend>
                    <div id="resumesList">No saved resumes. Save your first resume!</div>
                    <div class="resume-save-row" style="display: flex; gap: 0.5rem; flex-wrap: wrap;">
                        <button type="button" id="btnSave" onclick="handleSaveSnapshot()">Save Resume</button>
                    </div>
                </fieldset>

            </section>

            <section class="preview-section">
                <fieldset>
                    <legend>Preview</legend>
                    <div id="preview">Fill in your resume and click Preview.</div>
                </fieldset>
                <!-- Toolbar -->
                <div class="toolbar">
                    <input type="file" id="jsonFileInput" accept=".json" style="display:none" onchange="loadFromJson(event)" />
                    <div class="toolbar-row">
                        <div class="toolbar-group">
                            <span class="tooltip tooltip-right"><button type="button" onclick="document.getElementById('jsonFileInput').click()">Load JSON</button><span class="tooltip-text">Import a saved resume file</span></span>
                            <span class="tooltip tooltip-right"><button type="button" onclick="downloadJson()">Save JSON</button><span class="tooltip-text">Export resume for backup</span></span>
                        </div>
                        <div class="toolbar-divider"></div>
                        <div class="toolbar-group">
                            <label>Template:
                                <select id="template">
                                    <option value="jake">Jake</option>
                                    <option value="mirage">Mirage</option>
                                </select>
                            </label>
                            <button type="button" id="btnGenerate" class="btn-primary" onclick="tailorResume()">Generate</button>
                        </div>
                    </div>
                    <div class="toolbar-row">
                        <div class="toolbar-group">
                            <button type="button" onclick="downloadPdf()" id="btnPdf" disabled>Download PDF</button>
                            <button type="button" onclick="exportToLatex()" id="btnLatex" disabled>Download LaTeX</button>
                        </div>
                        <button type="button" class="btn-danger" onclick="clearAll()">Clear All</button>
                    </div>
                </div>
            </section>
        </main>
        
        <!-- Toast Container -->
        <div id="toast-container"></div>
    </div>
    <script type="module" src="js/main.js"></script>
</body>
</html>
